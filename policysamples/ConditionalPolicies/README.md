# Conditional Policy EnforcementApigee API Platform Samples are designed to help you learn how to usethe Apigee API Platform.Learn more at http://apigee.com/docs# DescriptionThis sample demonstrates conditional policy enforcement on the Apigee API Platform. conditional policy enforcement enables you to execute a policy based on a condition defined on a flow.The condition in this sample evaluates a custom HTTP header called “responsetime”. When “true”, a Python script is executed, which populates custom response headers with metrics from the Apigee gateway. For a complete list of redefined variables that you can use to build conditional logic, please see:http://http://apigee.com/docs/api/predefined-variablesFor instructions on constructing conditional statement with those variables, please see:http://apigee.com/docs/api/conditional-operators# Set up* The username and password that you use to login to enterprise.apigee.com.* The name of the organization in which you have an account. Login to   enterprise.apigee.com and check account settings.You can obtain a free account at http://enterprise.apigee.com/signup# Configure Update setenv.sh with you environment details# Import and deploy sample projectRun$ sh ./deploy.sh# Testing$ curl -H "responsetime:true" http://{myOrg}-test.apigee.net/weather-timer/forecastrss?w=12797282 -iRepeat the request now, but add the HTTP header responsetime:true$ curl -H "responsetime:true" http://{myOrg}-test.apigee.net/weather-timer/forecastrss?w=12797282 -i3. Observe the X-Apigee-end-time header in the response this time:X-Apigee-target: http://weather.yahooapis.comX-Apigee-start-time: 1354911128152X-Apigee-end-time: 1354911128176X-Apigee-target-responseTime: 24Copyright 2012 Apigee CorporationLicensed under the Apache License, Version 2.0 (the "License"); you may not usethis file except in compliance with the License. You may obtain a copyof the License athttp://www.apache.org/licenses/LICENSE-2.0Unless required by applicable law or agreed to in writing, softwaredistributed under the License is distributed on an "AS IS" BASIS,WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.See the License for the specific language governing permissions andlimitations under the License.